<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ejercicio 1 - Automatas</title>
  <script src="https://kit.fontawesome.com/6a4bedafcb.js" crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="../assets/css/dashboard-automatas.css">
  <link rel="shortcut icon" href="../assets/img/logo.webp" type="image/x-icon">
</head>
<body>
  <nav>
    <a href="../" class="atras">
      <i class="fa-solid fa-angle-left"></i>
      <span>Inicio</span>
    </a>
    <div class="control">
      <h2>Control AFD</h2>
      <div class="box-input">
        <label for="cadena">Ingrese cadena</label>
        <input type="text" id="cadena">
      </div>
      <div class="box-button">
        <button class="btn btn-submit" id="btn-run"><i class="fa-regular fa-circle-play"></i> Correr</button>
        <button class="btn btn-clear" id="btn-clear"><i class="fa-solid fa-broom"></i> Limpiar</button>
      </div>
    </div>
    <hr>
    <div class="control">
      <h2>Información AFD</h2>
      <div class="box-input">
        <label for="estados">Estados:</label>
        <input type="text" id="estados" disabled readonly value="q0, q1, q2, q3, q4, q5, q6, q7, q8, qØ">
      </div>
      <div class="box-input">
        <label for="estado-inicial">Estado inicial:</label>
        <input type="text" id="estado-inicial" disabled readonly value="q0">
      </div>
      <div class="box-input">
        <label for="estado-aceptacion">Estado de aceptación:</label>
        <input type="text" id="estado-aceptacion" disabled readonly value="q5">
      </div>
      <div class="box-input">
        <label for="alfabeto">Alfabeto:</label>
        <input type="text" id="alfabeto" disabled readonly value="L, D, _, ., -, @">
      </div>
      <div class="box-input">
        <label for="expresion-regular">Expresión regular:</label>
        <input type="text" id="expresion-regular" disabled readonly value="01">
      </div>
    </div>
  </nav>
  <div class="title">
    <h1>Validar Correo Electrónico</h1>
    <span>Ejemplo: usuario@dominio.com</span>
  </div>
  <main>
    <div id="graph-container" style="width: 100%; height: 100%; min-height: 500px;"></div>
  </main>
  <footer>
    <div class="acordion-box">
      <div class="acordion">
        <div class="acordion-header">
          <h2>
            <button>
              Recorrido de la cadena 
              <i class="fa-solid fa-chevron-up"></i>
            </button>
          </h2>
        </div>
        <div class="collapse">
          <div class="acordion-body" id="recorrido-cadena">Escriba una cadena</div>
        </div>
      </div>
      <div class="acordion">
        <div class="acordion-header">
          <h2>
            <button>
              Tabla de transiciones
              <i class="fa-solid fa-chevron-up"></i>
            </button>
          </h2>
        </div>
        <div class="collapse">
          <div class="acordion-body">
            <table>
              <thead>
                <tr>
                  <th>δ</th>
                  <th>L / D</th>
                  <th>_</th>
                  <th>.</th>
                  <th>-</th>
                  <th>@</th>
                  <th>otros</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>→ q0</td>
                  <td>q1</td>
                  <td>q1</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q1</td>
                  <td>q1</td>
                  <td>q1</td>
                  <td>q2</td>
                  <td>q2</td>
                  <td>q3</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q2</td>
                  <td>q1</td>
                  <td>q1</td>
                  <td>q2</td>
                  <td>q2</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q3</td>
                  <td>q6</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q6</td>
                  <td>q6</td>
                  <td>q6</td>
                  <td>q4</td>
                  <td>q7</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q7</td>
                  <td>q6</td>
                  <td>q6</td>
                  <td>q4</td>
                  <td>q7</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q4</td>
                  <td>q5</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>* q5</td>
                  <td>q5</td>
                  <td>q5</td>
                  <td>q4</td>
                  <td>q8</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>q8</td>
                  <td>q5</td>
                  <td>q5</td>
                  <td>q4</td>
                  <td>q8</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
                <tr>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                  <td>qØ</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <span>@2025 todos los derechos reservados - Creado por: Carlos Torres Almonacid | Josafat Paredes Ganto</span>
  </footer>

  <div id="resultado"></div>

  <script>
    const automataData = {
      nodes: [
        { id: "q0", isStart: true, isFinal: false },
        { id: "q1", isStart: false, isFinal: false },
        { id: "q2", isStart: false, isFinal: false },
        { id: "q3", isStart: false, isFinal: false },
        { id: "q4", isStart: false, isFinal: false },
        { id: "q5", isStart: false, isFinal: true }, // Aceptación
        { id: "q6", isStart: false, isFinal: false },
        { id: "q7", isStart: false, isFinal: false },
        { id: "q8", isStart: false, isFinal: false },
        { id: "qØ", isStart: false, isFinal: false },
      ],
      // Definimos las conexiones visuales (agrupadas para que se vea limpio)
      links: [
        { source: "q0", target: "q1", label: "L, D, _" },
        { source: "q0", target: "qØ", label: "otros" },
        { source: "q1", target: "q1", label: "L, D, _" },
        { source: "q1", target: "q2", label: "., -" },
        { source: "q1", target: "q3", label: "@" },
        { source: "q1", target: "qØ", label: "otros" },
        { source: "q2", target: "q1", label: "L, D, _" },
        { source: "q2", target: "q2", label: "., -" },
        { source: "q2", target: "qØ", label: "otros" },
        { source: "q3", target: "q6", label: "L, D" },
        { source: "q3", target: "qØ", label: "otros" },
        { source: "q6", target: "q6", label: "L, D, _" },
        { source: "q6", target: "q4", label: "." },
        { source: "q6", target: "q7", label: "-" },
        { source: "q6", target: "qØ", label: "otros" },
        { source: "q7", target: "q6", label: "L, D, _" },
        { source: "q7", target: "q4", label: "." },
        { source: "q7", target: "q7", label: "-" },
        { source: "q7", target: "qØ", label: "otros" },
        { source: "q4", target: "q5", label: "L, D" },
        { source: "q4", target: "qØ", label: "otros" },
        { source: "q5", target: "q5", label: "L, D, _" },
        { source: "q5", target: "q4", label: "." },
        { source: "q5", target: "q8", label: "-" },
        { source: "q5", target: "qØ", label: "otros" },
        { source: "q8", target: "q5", label: "L, D, _" },
        { source: "q8", target: "q4", label: "." },
        { source: "q8", target: "q8", label: "-" },
        { source: "q8", target: "qØ", label: "otros" },
        { source: "qØ", target: "qØ", label: "todos" },
      ],
    };
  </script>
  <script src="../assets/js/dashboard-automatas.js"></script>
  <script src="../assets/js/graficador-automata.js"></script>
  <script src="../assets/js/ejercicio-1.js"></script>
</body>
</html>